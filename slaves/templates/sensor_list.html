{% extends 'base.html' %}
{% load staticfiles %}

{% block content %}
<style>
    #marker {
        background-image: url('/static/img/logo.png');
        background-size: cover;
        width: 70px;
        height: 50px;
        border-radius: 50%;
}
    .mapboxgl-popup {
        max-width: 200px;
        font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
    }

    .marker {
    display: block;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    padding: 0;
}
.coordinates {
    background: rgba(0,0,0,0.5);
    color: #fff;
    position: absolute;
    bottom: 10px;
    left: 10px;
    padding:5px 10px;
    margin: 0;
    font-size: 11px;
    line-height: 18px;
    border-radius: 3px;
    display: none;
}
    #menu {
        position: absolute;
        background: #fff;
        padding: 10px;
        font-family: 'Open Sans', sans-serif;
    }

</style>
<div id='map'></div>
<pre id='info'></pre>
<pre id='coordinates' class='coordinates'></pre>

<div id='menu'>
    <button>Maps</button><br/>
    <input id='basic' type='radio' name='rtoggle' value='basic' checked='checked'>
    <label for='basic'>basic</label><br/>
    <input id='streets' type='radio' name='rtoggle' value='streets'>
    <label for='streets'>streets</label><br/>
    <input id='bright' type='radio' name='rtoggle' value='bright'>
    <label for='bright'>bright</label><br/>
    <input id='light' type='radio' name='rtoggle' value='light'>
    <label for='light'>light</label><br/>
    <input id='dark' type='radio' name='rtoggle' value='dark'>
    <label for='dark'>dark</label><br/>
    <input id='satellite' type='radio' name='rtoggle' value='satellite'>
    <label for='satellite'>satellite</label>
</div>

<script>
    $("document").ready(function(){
            $("button").click(function(){
                $("input").toggle();
                    $("label").toggle();
        });
    });

  mapboxgl.accessToken = 'pk.eyJ1IjoibWlra3VqYWluIiwiYSI6ImNqcDlpMXdxOTBhdGkza3Bkbnk3angyMjUifQ.9vekYOyTDzjmoZHcfRZxyQ';
  mapboxgl.setRTLTextPlugin('https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.0/mapbox-gl-rtl-text.js');
//   if (!mapboxgl.supported()) {
//     alert('Your browser does not support Mapbox GL');
// } else {
    var langlat = [77.3182577, 28.5942565]
    var map = new mapboxgl.Map({
        container: 'map', // container id
        style: 'mapbox://styles/mapbox/basic-v9', // stylesheet location
        center: langlat, // starting position [lng, lat]
        zoom: 9 // starting zoom
    });
// }
// set the cordinates
var coordinates = document.getElementById('coordinates');

// Change view of map
var layerList = document.getElementById('menu');
var inputs = layerList.getElementsByTagName('input');

function switchLayer(layer) {
    var layerId = layer.target.id;
    map.setStyle('mapbox://styles/mapbox/' + layerId + '-v9');
}

for (var i = 0; i < inputs.length; i++) {
    inputs[i].onclick = switchLayer;
}

// icon for dragger.

var marker = new mapboxgl.Marker({
    draggable: true
})
    .setLngLat(langlat)
    .addTo(map);

function onDragEnd() {
    var lngLat = marker.getLngLat();
    coordinates.style.display = 'block';
    coordinates.innerHTML = 'Longitude: ' + lngLat.lng + '<br />Latitude: ' + lngLat.lat;
}

marker.on('dragend', onDragEnd);

// create the popup
var popup = new mapboxgl.Popup({ offset: 15 })
    .setText('Welcome to Telecon Systems ltd.');

// create DOM element for the marker
var el = document.createElement('div');
el.id = 'marker';

// customized icon
var master = {
    "type": "FeatureCollection",
    "features": [
        {
            "type": "Feature",
            "properties": {
                "iconSize": [60, 60]
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    77.324462890625,
                    28.024695711685304
                ]
            }
        },
    ]
};

// add markers to map
master.features.forEach(function(marker) {
    // create a DOM element for the marker
    var el = document.createElement('div');
    el.className = 'marker';
    el.style.backgroundImage = 'url(https://placekitten.com/g/' + marker.properties.iconSize.join('/') + '/)';
    el.style.width = marker.properties.iconSize[0] + 'px';
    el.style.height = marker.properties.iconSize[1] + 'px';

    el.addEventListener('click', function() {
        //window.alert(marker.properties.message);
        $('#exampleModal').modal('show'); 
    });

    // add marker to map
    new mapboxgl.Marker(el)
        .setLngLat(marker.geometry.coordinates)
        .addTo(map);
});

var slave1 = {
  "type": "FeatureCollection",
  "features": [
      {
            "type": "Feature",
            "properties": {
                "message": "Bar",
                "iconSize": [50, 50]
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    77.2158203125,
                    28.97189158092897
                ]
            }
        }]
}


slave1.features.forEach(function(marker) {
    // create a DOM element for the marker
    var el = document.createElement('div');
    el.className = 'marker';
    el.style.backgroundImage = 'url(https://placekitten.com/g/' + marker.properties.iconSize.join('/') + '/)';
    el.style.width = marker.properties.iconSize[0] + 'px';
    el.style.height = marker.properties.iconSize[1] + 'px';

    el.addEventListener('click', function() {
        //window.alert(marker.properties.message);
        $('#exModal1').modal('show'); 
    });

    // add marker to map
    new mapboxgl.Marker(el)
        .setLngLat(marker.geometry.coordinates)
        .addTo(map);
});

var slave2 = {
  "type": "FeatureCollection",
  "features": [
      {
            "type": "Feature",
            "properties": {
                "message": "Bar",
                "iconSize": [40, 40]
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    77.3058203125,
                    28.80189158092897
                ]
            }
        }]
}


slave2.features.forEach(function(marker) {
    // create a DOM element for the marker
    var el = document.createElement('div');
    el.className = 'marker';
    el.style.backgroundImage = 'url(https://placekitten.com/g/' + marker.properties.iconSize.join('/') + '/)';
    el.style.width = marker.properties.iconSize[0] + 'px';
    el.style.height = marker.properties.iconSize[1] + 'px';

    el.addEventListener('click', function() {
        //window.alert(marker.properties.message);
        $('#exModal2').modal('show'); 
    });

    // add marker to map
    new mapboxgl.Marker(el)
        .setLngLat(marker.geometry.coordinates)
        .addTo(map);
});

var slave3 = {
    "type": "FeatureCollection",
    "features": [
        {
            "type": "Feature",
            "properties": {
                "iconSize": [30, 30]
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    78.324462890625,
                    28.024695
                ]
            }
        },
    ]
};

// add markers to map
slave3.features.forEach(function(marker) {
    // create a DOM element for the marker
    var el = document.createElement('div');
    el.className = 'marker';
    el.style.backgroundImage = 'url(https://placekitten.com/g/' + marker.properties.iconSize.join('/') + '/)';
    el.style.width = marker.properties.iconSize[0] + 'px';
    el.style.height = marker.properties.iconSize[1] + 'px';

    el.addEventListener('click', function() {
        //window.alert(marker.properties.message);
        $('#exModal3').modal('show'); 
    });

    // add marker to map
    new mapboxgl.Marker(el)
        .setLngLat(marker.geometry.coordinates)
        .addTo(map);
});
// create the marker
new mapboxgl.Marker(el)
    .setLngLat(langlat)
    .setPopup(popup) // sets a popup on this marker
    .addTo(map);

map.on('load', function() {

    // Add a layer showing the places.
    map.addLayer({
        "id": "places",
        "type": "symbol",
        "source": {
            "type": "geojson",
            "data": {
                "type": "FeatureCollection",
                "features": [{
                    "type": "Feature",
                    "properties": {
                        "description": "<strong>Make it Mount Pleasant</strong><p>Make it Mount Pleasant is a handmade and vintage market and afternoon of live entertainment and kids activities. 12:00-6:00 p.m.</p>",
                        "icon": "theatre"
                    },
                    "geometry": {
                        "type": "Point",
                        "coordinates": [77.038659, 28.931567]
                    }
                }, {
                    "type": "Feature",
                    "properties": {
                        "description": "<strong>Mad Men Season Five Finale Watch Party</strong><p>Head to Lounge 201 (201 Massachusetts Avenue NE) Sunday for a Mad Men Season Five Finale Watch Party, complete with 60s costume contest, Mad Men trivia, and retro food and drink. 8:00-11:00 p.m. $10 general admission, $20 admission and two hour open bar.</p>",
                        "icon": "theatre"
                    },
                    "geometry": {
                        "type": "Point",
                        "coordinates": [77.003168, 28.894651]
                    }
                }, {
                    "type": "Feature",
                    "properties": {
                        "description": "<strong>Big Backyard Beach Bash and Wine Fest</strong><p>EatBar (2761 Washington Boulevard Arlington VA) is throwing a Big Backyard Beach Bash and Wine Fest on Saturday, serving up conch fritters, fish tacos and crab sliders, and Red Apron hot dogs. 12:00-3:00 p.m. $25.grill hot dogs.</p>",
                        "icon": "bar"
                    },
                    "geometry": {
                        "type": "Point",
                        "coordinates": [77.090372, 28.881189]
                    }
                }, {
                    "type": "Feature",
                    "properties": {
                        "description": "<strong>Ballston Arts & Crafts Market</strong><p>The Ballston Arts & Crafts Market sets up shop next to the Ballston metro this Saturday for the first of five dates this summer. Nearly 35 artists and crafters will be on hand selling their wares. 10:00-4:00 p.m.</p>",
                        "icon": "art-gallery"
                    },
                    "geometry": {
                        "type": "Point",
                        "coordinates": [77.111561, 28.882342]
                    }
                }, {
                    "type": "Feature",
                    "properties": {
                        "description": "<strong>Seersucker Bike Ride and Social</strong><p>Feeling dandy? Get fancy, grab your bike, and take part in this year's Seersucker Social bike ride from Dandies and Quaintrelles. After the ride enjoy a lawn party at Hillwood with jazz, cocktails, paper hat-making, and more. 11:00-7:00 p.m.</p>",
                        "icon": "bicycle"
                    },
                    "geometry": {
                        "type": "Point",
                        "coordinates": [77.052477, 28.943951]
                    }
                }, {
                    "type": "Feature",
                    "properties": {
                        "description": "<strong>Capital Pride Parade</strong><p>The annual Capital Pride Parade makes its way through Dupont this Saturday. 4:30 p.m. Free.</p>",
                        "icon": "star"
                    },
                    "geometry": {
                        "type": "Point",
                        "coordinates": [77.043444, 28.909664]
                    }
                }, 

                  {
                    "type": "Feature",
                    "properties": {
                        "description": "<strong>Truckeroo</strong><p>Truckeroo brings dozens of food trucks, live music, and games to half and M Street SE (across from Navy Yard Metro Station) today from 11:00 a.m. to 11:00 p.m.</p>",
                        "icon": "music"
                    },
                    "geometry": {
                        "type": "Point",
                        "coordinates": [77.007481, 28.876516]
                    }
                }]
            }
        },
        "layout": {
            "icon-image": "{icon}-15",
            "icon-allow-overlap": true
        }
    });

    // Create a popup, but don't add it to the map yet.
    var popup = new mapboxgl.Popup({
        closeButton: false,
        closeOnClick: false
    });

    map.on('mouseenter', 'places', function(e) {
        // Change the cursor style as a UI indicator.
        map.getCanvas().style.cursor = 'pointer';

        var coordinates = e.features[0].geometry.coordinates.slice();
        var description = e.features[0].properties.description;

        // Ensure that if the map is zoomed out such that multiple
        // copies of the feature are visible, the popup appears
        // over the copy being pointed to.
        while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {
            coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;
        }

        // Populate the popup and set its coordinates
        // based on the feature found.
        popup.setLngLat(coordinates)
            .setHTML(description)
            .addTo(map);
    });

    map.on('mouseleave', 'places', function() {
        map.getCanvas().style.cursor = '';
        popup.remove();
    });
});


  map.on('load', function() {
      // Add Mapillary sequence layer.
      // https://www.mapillary.com/developer/tiles-documentation/#sequence-layer
      map.addLayer({
          "id": "mapillary",
          "type": "line",
          "source": {
              "type": "vector",
              "tiles": ["https://d25uarhxywzl1j.cloudfront.net/v0.1/{z}/{x}/{y}.mvt"],
              "minzoom": 6,
              "maxzoom": 14
          },
          "source-layer": "mapillary-sequences",
          "layout": {
              "line-cap": "round",
              "line-join": "round"
          },
          "paint": {
              "line-opacity": 0.6,
              "line-color": "rgb(53, 175, 109)",
              "line-width": 2
          }
      }, 'waterway-label');
  });


  map.on('mousemove', function (e) {
      document.getElementById('info').innerHTML =
          // e.point is the x, y coordinates of the mousemove event relative
          // to the top-left corner of the map
          JSON.stringify(e.point) + '<br />' +
          // e.lngLat is the longitude, latitude geographical position of the event
          JSON.stringify(e.lngLat);
  });

// This function is used for navigation purpose 
  map.addControl(new mapboxgl.GeolocateControl({
      positionOptions: {
          enableHighAccuracy: true
      },
      trackUserLocation: true
  }));

  //show full screen map 
  map.addControl(new mapboxgl.FullscreenControl());

  // Disable default box zooming.
  map.boxZoom.enable();

  // Add zoom and rotation controls to the map.
  map.addControl(new mapboxgl.NavigationControl());
 
  // var popup = new mapboxgl.Popup({closeOnClick: false}) // Added Pop window with name
  //     .setLngLat([77.3182577, 28.5942565])
  //     .setHTML('<h3>Welcome Telecon Systems</h3>')
  //     .addTo(map);

  var map = new mapboxgl.Map({attributionControl: false})
    .addControl(new mapboxgl.AttributionControl({
        compact: true
    }));

</script>
<div class="container">
    <table class="table">
        <!-- <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">System</th>
                <th scope="col">Last</th>
                <th scope="col">Status</th>
            </tr>
        </thead> -->
        <tbody>
            <i class="fa fa-bell" aria-hidden="true" data-toggle="modal" data-target="#exampleModal"></i>
            <i class="fa fa-registered" aria-hidden="true" data-toggle="modal" data-target="#exModal1"></i>
            <i class="fa fa-registered" aria-hidden="true" data-toggle="modal" data-target="#exModal2"></i>
            <i class="fa fa-registered" aria-hidden="true" data-toggle="modal" data-target="#exModal3"></i>
            <i class="fa fa-registered" aria-hidden="true" data-toggle="modal" data-target="#exModal4"></i>
            <i class="fa fa-registered" aria-hidden="true" data-toggle="modal" data-target="#exModal5"></i>
            <!-- <tr> -->
                <!-- <th scope="row">1</th> -->
                <!-- <td>Master</td> -->
                <!-- <td> --><!-- Master --><!-- </td> -->
                <!-- <td>Active</td> -->
            <!-- </tr>
            <tr> -->
                <!-- <th scope="row">2</th> -->
                <!-- <td>RS1</td> -->
                <!-- <td> --><!-- RS1 --><!-- </td> -->
                <!-- <td>@fat</td> -->
            <!-- </tr>
            <tr> -->
                <!-- <th scope="row">3</th> -->
                <!-- <td>RS2</td> -->
                <!-- <td>RS2</td> -->
                <!-- <td>@twitter</td> -->
            <!-- </tr>
            <tr> -->
                <!-- <th scope="row">4</th>
                <td>RS3</td> -->
                <!-- <td>RS3</td> -->
                <!-- <td>@twitter</td> -->
            <!-- </tr>
            <tr> -->
                <!-- <th scope="row">5</th>
                <td>RS4</td> -->
                <!-- <td>RS4</td> -->
                <!-- <td>@twitter</td> -->
            <!-- </tr>
            <tr> -->
                <!-- <th scope="row">6</th>
                <td>RS5</td> -->
                <!-- <td>RS5</td> -->
                <!-- <td>@twitter</td> -->
            <!-- q -->
        </tbody>
    </table>
</div>
<!-- Master Modal -->
<div class="modal fade bd-example-modal-lg" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">Master</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <div class="container-fluid">
                <h5>Bootstrap 4 Equal Height Cards using Grid</h5>
                <div class="row">
                  {% for sensor in sensor_data.Master %}
                  <div class="col-sm-4 py-2">
                    {% cycle '<tr>' '' '' '' %}
                      {% if sensor.value == 0 %}
                      <div class="card card-body h-100 text-white bg-danger">
                        <td>{{ sensor.name }}</td>
                        <td style="border: 1px solid black;">{{ sensor.value }}</td>
                      </div>
                      {% else %}
                      <div class="card card-body h-100 text-white bg-success">
                        <td class="alert">{{ sensor.name }}</td>
                        <td class="alert" style="border: 1px solid black;">{{ sensor.value }}</td>
                      </div>
                      {% endif %}
                      {% cycle '' '' '' '</tr>' %}
                  </div> 
                  {% endfor %}
                </div>
            </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
</div>

<div class="modal fade bd-ex-modal1-lg" id="exModal1" tabindex="-1" role="dialog" aria-labelledby="exModal1CenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exModal1LongTitle">RS1</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <div class="container-fluid">
                <h5>Bootstrap 4 Equal Height Cards using Grid</h5>
                <div class="row">
                  {% for sensor in sensor_data.RS1 %}
                  <div class="col-sm-4 py-2">
                    <div class="card card-body h-100 text-white bg-primary">
                        {% cycle '<tr>' '' '' '' %}
                            {% if sensor.value == 0 %}
                            <td>{{ sensor.name }}</td>
                            <td style="border: 1px solid black;">{{ sensor.value }}</td>
                            {% else %}
                            <div class="card card-body h-100 text-white bg-success">
                              <td class="alert">{{ sensor.name }}</td>
                              <td class="alert" style="border: 1px solid black;">{{ sensor.value }}</td>
                            </div>
                            {% endif %}
                            {% cycle '' '' '' '</tr>' %}
                    </div>
                   </div> 
                  {% endfor %}

                </div>
            </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
</div>                  

<div class="modal fade bd-ex-modal2-lg" id="exModal2" tabindex="-1" role="dialog" aria-labelledby="exModal2CenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exModal2LongTitle">RS2</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <div class="container-fluid">
                <h5>Bootstrap 4 Equal Height Cards using Grid</h5>
                <div class="row">
                  {% for sensor in sensor_data.RS2 %}
                  <div class="col-sm-4 py-2">
                    <div class="card card-body h-100 text-white bg-secondary">
                      {% cycle '<tr>' '' '' '' %}
                        {% if sensor.value == 0 %}
                        <td>{{ sensor.name }}</td>
                        <td style="border: 1px solid black;">{{ sensor.value }}</td>
                        {% else %}
                        <div class="card card-body h-100 text-white bg-success">
                          <td class="alert">{{ sensor.name }}</td>
                          <td class="alert" style="border: 1px solid black;">{{ sensor.value }}</td>
                        </div>
                        {% endif %}
                        {% cycle '' '' '' '</tr>' %}
                    </div>
                   </div> 
                  {% endfor %}

                </div>
            </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
</div>                  

<div class="modal fade bd-ex-modal3-lg" id="exModal3" tabindex="-1" role="dialog" aria-labelledby="exModal3CenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exModal3LongTitle">RS3</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <div class="container-fluid">
                <h5>Bootstrap 4 Equal Height Cards using Grid</h5>
                <div class="row">
                  {% for sensor in sensor_data.RS3 %}
                  <div class="col-sm-4 py-2">
                    <div class="card card-body h-100 text-white bg-danger ">
                      {% cycle '<tr>' '' '' '' %}
                        {% if sensor.value == 0 %}
                        <td>{{ sensor.name }}</td>
                        <td style="border: 1px solid black;">{{ sensor.value }}</td>
                        {% else %}
                        <div class="card card-body h-100 text-white bg-success">
                          <td class="alert">{{ sensor.name }}</td>
                          <td class="alert" style="border: 1px solid black;">{{ sensor.value }}</td>
                        </div>
                        {% endif %}
                        {% cycle '' '' '' '</tr>' %}
                    </div>
                   </div> 
                  {% endfor %}

                </div>
            </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
</div>    

<div class="modal fade bd-ex-modal4-lg" id="exModal4" tabindex="-1" role="dialog" aria-labelledby="exModal4CenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exModal4LongTitle">RS4</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <div class="container-fluid">
                <h5>Bootstrap 4 Equal Height Cards using Grid</h5>
                <div class="row">
                  {% for sensor in sensor_data.RS4 %}
                  <div class="col-sm-4 py-2">
                    <div class="card card-body h-100 text-white bg-info">
                      {% cycle '<tr>' '' '' '' %}
                        {% if sensor.value == 0 %}
                        <td>{{ sensor.name }}</td>
                        <td style="border: 1px solid black;">{{ sensor.value }}</td>
                        {% else %}
                        <div class="card card-body h-100 text-white bg-success">
                          <td class="alert">{{ sensor.name }}</td>
                          <td class="alert" style="border: 1px solid black;">{{ sensor.value }}</td>
                        </div>
                        {% endif %}
                        {% cycle '' '' '' '</tr>' %}
                    </div>
                   </div> 
                  {% endfor %}

                </div>
            </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
</div>                                

<div class="modal fade bd-ex-modal5-lg" id="exModal5" tabindex="-1" role="dialog" aria-labelledby="exModal5CenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exModal5LongTitle">RS5</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <div class="container-fluid">
                <h5>Bootstrap 4 Equal Height Cards using Grid</h5>
                <div class="row">
                  {% for sensor in sensor_data.RS5 %}
                  <div class="col-sm-4 py-2">
                    <div class="card card-body h-100 text-white bg-warning">
                      {% cycle '<tr>' '' '' '' %}
                        {% if sensor.value == 0 %}
                        <td>{{ sensor.name }}</td>
                        <td style="border: 1px solid black;">{{ sensor.value }}</td>
                        {% else %}
                        <div class="card card-body h-100 text-white bg-success">
                          <td class="alert">{{ sensor.name }}</td>
                          <td class="alert" style="border: 1px solid black;">{{ sensor.value }}</td>
                        </div>
                        {% endif %}
                        {% cycle '' '' '' '</tr>' %}
                    </div>
                   </div> 
                  {% endfor %}
                </div>
            </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>
<!-- End Master Modal -->
{% endblock %}
